<!DOCTYPE html> 
<head>

    <title>Weather Dashboard</title>
    
    <link rel="stylesheet" type="text/css" href="style.css">

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/css/bootstrap.min.css">

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>

    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/js/bootstrap.min.js"></script>

</head>
<body>
    <header><h2>Welcome to the Weather Dashboard!</h2></header>

    <div id= container>
        <h4>Search for a City!</h4>
        <input type="text" id="box" name="name"><br>
        <input type= "submit" id= "goButton" class= "button" value="Go!">
    </div>
    <div id= "contentBox"></div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script type="text/javascript">

    function getInfo() {

        
        $("#goButton").on("click", function() {
            var cityName = document.querySelector("#box").value;
            var queryURL = "http://api.openweathermap.org/data/2.5/weather?q=" + cityName + "&units=imperial&apikey=1fe1b1156deb9197209e78927d7eff85";
        
        
            $.ajax({
            url: queryURL,
            method: "GET"
        }).then(function(response){
            // console.log(response); (just to see object)
            var weatherDiv = $("<div>");
            
            var cityId = response.name;
            var pCity = $("<h1>").text(cityId);
            weatherDiv.append(pCity);

            

            var cityTime= response.dt;
            var pDate = $("<p>").text(cityTime);
            weatherDiv.append(pDate);

            // var imageURL = response.weather[0].icon;
            var image = $("<img>").html(imageURL);
            weatherDiv.append(image);

            // var temp = response.main.temp;
            var pTemp = $("<p>").text("Temperature: " + temp + " F")
            weatherDiv.append(pTemp);

            var hum = response.main.humidity;
            var pHum = $("<p>").text("Humidity " + hum + "%")
            weatherDiv.append(pHum);

            var wind = response.wind.speed;
            var pWind = $("<p>").text("Wind Speed: " + wind + " MPH");
            weatherDiv.append(pWind);


            $("#contentBox").prepend(weatherDiv);
             });



    });
        
    //         var weatherDiv = $("<div class='weather'>");
            
    //         var cityList = response.name;
    //         var pCity = $("<p>").text(cityList);
    //         weatherDiv.append(pCity);

    //         $("#weatherInfo").append(weatherDiv);
    //     });
    // };
    // $(".button").on("click", getInfo());
    
    //var weather = $(".button").on("click", function(event) 
    }
    getInfo();
    </script>
</body>